<!doctype html><html lang="en">
    
<head><title>darth-fader</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#000" />
<link id="luckiestFont" href="https://fonts.googleapis.com/css?family=Luckiest+Guy" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="demoStyles.css">
</head>

<body>
<div id="holder">
    
    <div id="introQ" class="qr" style="text-align: center;">
        <hr>
        <i id="ques" style="font-size:27px;font-family:'luckiest guy'">
            How do you feel<br class="mobr"> about surveys?
        </i><br>
        
            <svg id="svg0"
             viewbox="0 0 220 340"
             xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
            >
                <g
                 transform="scale(2.2) translate(-50 -25)"
                 fill-rule="evenOdd"
                >
                    <path
                     id="boxPath"
                     d="M50 50Q45 100 50 150Q100 155 150 150Q155 100 150 50Q100 45 50 50Z"
                     style="
                        stroke: rgb(102,102,102);
                        stroke-width: 10;
                        stroke-linejoin: miter;
                        stroke-miterlimit: 10;
                        fill: rgb(255,255,255);
                     "
                    />
                    <path
                     id="mouthPath"
                     d="M72 80q30 5 63 0q-8 20 0 22q-30 3 -64 0q0 -9 -3 -18l-8 4q5 -3 14 -14Z"
                     style="
                        fill: rgb(102,102,102);
                     "
                    />
                </g>
    
            </svg>
            
        <div id="faceFaderDiv" style="text-align:center;">
            <input
             id="faceFader"
             style="width:300px;"
             type="range"
             data-fade="
                levels : ['-100', 0, '100', 1],
                colors : [
                    'rgb(128,   0, 128)', 0.0,
                    'rgb(128,   0, 128)', 0.4,
                    'rgb(255, 255, 255)', 0.5,
                    'rgb(255, 180,   0)', 0.6,
                    'rgb(255, 180,   0)', 1.0
                ],
                facePaths : [
                    'M0 40Q72 100 0 160Q100 122 200 160Q128 100 200 40Q100 72 0 40Z', 0,
                    'M50 50Q45 100 50 150Q100 155 150 150Q155 100 150 50Q100 45 50 50Z', 0.5,
                    'M50 0Q72 100 50 180Q100 220 150 180Q128 100 150 0Q100 20 50 0Z', 1
                ],
                mouthPaths : [
                    'M52 75q35 37 88 0q26 23 0 46q-28 -50 -86 0q-20 -20 -3 -43l-10 8q6 -18 18 -13Z', 0,
                    'M52 75q47 30 88 0q24 23 0 46q-43 -43 -86 0q-15 -20 -3 -43l-10 8q6 -18 18 -13Z', 0.05,
                    'M72 80q30 5 63 0q-8 20 0 22q-30 3 -64 0q0 -9 -3 -18l-8 4q5 -3 14 -14Z', 0.5,
                    'M75 50q20 5 57 0q-20 60 0 92q-30 30 -60 0q4 -60 0 -88l-12 2q10 -2 18 -14Z', 1
                ],
                strokeColors : [
                    'rgb( 80,  0, 80)', 0.0,
                    'rgb( 80,  0, 80)', 0.4,
                    'rgb(102,102,102)', 0.5,
                    'rgb(208,111, 15)', 0.6,
                    'rgb(208,111, 15)', 1.0
                ]
             "
             data-fade-opts="snap:'facePaths',thumb:'colors'"
            />
        <hr>
        </div>
        
    </div>
    <script id="faceFaderScript">
    
    let Q = {};
    
    'faceFader svg0 boxPath mouthPath'.split(' ').forEach(obj => {
        Q[obj] = document.getElementById(obj);
    });

    Q.faceFader.addEventListener('fade', (e, vals=e.detail) => {
        Q.boxPath.setAttribute('d', vals.facePaths);
        Q.boxPath.style.fill = vals.colors;
        Q.boxPath.style.stroke = vals.strokeColors;
        Q.mouthPath.style.fill = vals.strokeColors;
        Q.mouthPath.setAttribute('d', vals.mouthPaths);
        Q.faceFader.style.setProperty('--thumb-border', vals.strokeColors);
    });
    
    Q.svg0.addEventListener('click', e => {
        Q.faceFader.value = 50;
        Q.faceFader.dispatchEvent(new Event('input'));
    });

    </script>
    
    <div class="qr">
        <b>darth-fader</b> adds a customizable <i>onfade event</i>
        to any specified input element in a page; they can be
        listened for and handled like any event
        <br><br>
        
        include the script, then list stop-point fades in
        a data-param for any range-input elements you want
        and listen for the default <i>fade</i> event;
        the following is a simple example
    </div>

    <div class="qr">
        <pre>
            
&lt;script src="darth-fader.js"&gt;&lt;/script&gt;

&lt;div id="sampleDiv"&gt;&lt;/div&gt;

&lt;input id="fader0" type="range" data-fade="
    color : [
        'rgb(255,255,  0)', 0,
        'rgb(255,  0,  0)', 0.25,
        'rgb(255,255,255)', 0.50,
        'rgb(  0,255,255)', 0.75,
        'rgb(255,  0,255)', 1
    ],
    size : [
        ' 20px',    0,
        '100px',    0.5,
        '380px',    1
    ]
"/&gt;


&lt;script&gt;

fader0.addEventListener('fade',
    (e, vals=e.detail) => {
       
        sampleDiv.style.backgroundColor = vals.color;
        sampleDiv.style.width = vals.size;
    
    }
);
        
&lt;/script&gt;

        </pre>
        <br>
        
        the <i>event.detail</i> of the fade event contains
        a property for every listed fade in that input element
        - for example, if you create a fade called 'width'
        you would access the current interpolated value
        from the handler's <i>event.detail.width</i> property
    </div>
    
    <div class="qr">
        <hr>
        there are many different options to configure which
        allows for different things, like this survey example:
        <br><br>
        <div id="cap0" style="
            width:100%;text-align:center;font-style:italic;color:#fff;
        ">
            What do you think about my alternative view?
        </div>
    </div>
    
    <div class="qr">
        <input id="slide0" type="range" min="-20"
         data-fade="
            statement : [
                ' that your opinion is evil', 0,
                ' that your opinion is evil', 1
            ],
            response : [
                'strongly disagree',  0.0,
                'kinda disagree',     0.25 ,
                'could care less',    0.50,
                'somewhat agree',     0.75,
                'strongly AGREE',     0.99
            ],
            thumb : [
                'rgb(200,100,  0)', 0,
                'rgb(225,175,  0)', 0.25,
                'rgb(255,255,255)', 0.5,
                'rgb(200,  0,200)', 0.75,
                'rgb(100,  0,100)', 1
            ]
         "
         data-fade-opts="
            thumb       : 'thumb',
            snap        : 'thumb',
            fix         : '0',
            steps       : 'thumb',
            ignore      : 'thumb'
         "
        />
    </div>
    
    <div class="qr">
        every fade added to the input's param also has a
        hidden input element that will get submitted with
        the form
    </div>
    
    <div id="form0" class="qa">
        <div id="quiz" style="text-align:center;font-style:italic;">
            how do you feel about question one?<br>
        <input id="ques1" type="range" style="--thumbH:20px;"
         data-fade="sentiment:['-100',0,'100',1]"
         data-fade-opts="thumb:true"
        />
            what about question two?<br>
        <input id="ques2" type="range" style="--thumbH:20px;"
         data-fade="temperature:['-100',0,'100',1]"
         data-fade-opts="thumb:true"
        />
            think about question three...<br>
        <input id="ques3" type="range" style="--thumbH:20px;"
         data-fade="intensity:['-100',0,'100',1]"
         data-fade-opts="thumb:true"
        />
        <p>
        <input id="butt0" type="button" value="bite here"
         style="height:30px;width:100%;"
        /></p>
        </div>
        <div id="formResults" style="text-align:right;">
            [[form results]]
        </div>
    </div>
    
    <script>
        slide0.addEventListener('fade', (e, vals=e.detail) => {
            cap0.innerHTML = `I <b>${vals.response}</b> ${ vals.statement }.`;
        });
        butt0.addEventListener('click', () => {
            
            let tmp = '[[form results]]';
            
            form0.querySelectorAll('input:not([type="button"])')
            .forEach(p => tmp += ('<br>'+p.id+' ::: '+p.value));
            
            formResults.innerHTML = tmp;
            
        });
    </script>
</div>
</body>

<script id="darthScript" src="darth-fader.js"></script>

</html>